{% extends 'base.html' %}

{% block body %}
<nav class="navbar navbar-expand-sm bg-light rounded-bottom-4">
    <div class="container-fluid">
        <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navBlock">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navBlock">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'home' %}">back to statuses</a>
                </li>
                {% if user == object.author %}
                <li class="nav-item">
                    <a class="nav-link" class="ms-2" href="{% url 'status_edit_by_status_id' object.id %}">edit status</a>
                </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
<div class="container-fluid d-flex flex-column justify-content-center align-items-center">
    <div class="card rounded-4 col-lg-7 col-md-8 col-sm-10 mt-3">
        <div class="card-body">
            {% if object.is_image %}
                <img class="card-img-top rounded-4" src="{{ object.media.url }}">
            {% else %}
                <video class="card-img-top rounded-4" controls src="{{ object.media.url }}">
            {% endif %}
            <div class="card-text mt-2">
                <div class="mb-1">
                    by {{ object.author }}
                </div>
                {{ object.text }}
            </div>
            <form action="{% url 'status_like' object.id %}" class="mt-3" method="post">
                {% csrf_token %}
                {% if user in object.likes.all %}
                    <button class="btn btn-danger" type="submit">Liked</button>
                {% else %}
                    <button class="btn btn-primary" type="submit">Like</button>
                {% endif %}
            </form>
            <span class="card-text"> like count: {{ object.likes.count }}</span>
        </div>
    </div>
</div>
{% endblock body %}